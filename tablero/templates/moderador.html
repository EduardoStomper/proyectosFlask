{% extends "base.html" %}

{% block title %}Panel del Moderador - {{ super() }}{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-6 max-w-md">
    <!-- Header del Moderador -->
    <div class="bg-blue-600 text-white rounded-lg p-4 mb-6 text-center">
        <h1 class="text-2xl font-bold">Panel del Moderador</h1>
        <p class="text-blue-100 mt-1">Control del Juego</p>
    </div>
    
    <!-- Estado del Juego -->
    <div id="game-status" class="bg-white rounded-lg p-4 mb-6 shadow-md">
        <h2 class="text-lg font-semibold mb-3 text-gray-800">Estado del Juego</h2>
        <div id="current-question-display" class="text-sm text-gray-600 mb-3">
            No hay pregunta activa
        </div>
        <div class="flex space-x-2">
            <div class="flex-1 text-center">
                <div id="team1-score" class="text-xl font-bold text-blue-600">0</div>
                <div class="text-xs text-gray-500">Equipo Azul</div>
            </div>
            <div class="flex-1 text-center">
                <div id="team2-score" class="text-xl font-bold text-red-600">0</div>
                <div class="text-xs text-gray-500">Equipo Rojo</div>
            </div>
        </div>
    </div>
    
    <!-- Selecci√≥n de Tipo de Pregunta -->
    <div class="bg-white rounded-lg p-4 mb-6 shadow-md">
        <h2 class="text-lg font-semibold mb-3 text-gray-800">Tipo de Pregunta</h2>
        <div class="grid grid-cols-2 gap-3">
            <button onclick="selectQuestionType('cierto_falso')" 
                    id="btn-cierto-falso" 
                    class="bg-blue-500 hover:bg-blue-600 text-white py-3 px-4 rounded-lg font-medium transition-all duration-300 transform hover:scale-105">
                Cierto/Falso
            </button>
            <button onclick="selectQuestionType('opcion_multiple')" 
                    id="btn-opcion-multiple" 
                    class="bg-green-500 hover:bg-green-600 text-white py-3 px-4 rounded-lg font-medium transition-all duration-300 transform hover:scale-105">
                Opci√≥n M√∫ltiple
            </button>
        </div>
    </div>
    
    <!-- Lista de Preguntas -->
    <div class="bg-white rounded-lg p-4 mb-6 shadow-md">
        <h2 class="text-lg font-semibold mb-3 text-gray-800">Seleccionar Pregunta</h2>
        <div id="questions-list" class="space-y-2">
            <p class="text-gray-500 text-sm">Selecciona un tipo de pregunta primero</p>
        </div>
    </div>
    
    <!-- Selecci√≥n de Equipo para la Pregunta -->
    <div class="bg-white rounded-lg p-4 mb-6 shadow-md">
        <h2 class="text-lg font-semibold mb-3 text-gray-800">¬øA qu√© equipo va dirigida?</h2>
        <div class="grid grid-cols-3 gap-3">
            <button onclick="selectTargetTeam('team1')" 
                    id="btn-target-team1" 
                    class="bg-blue-500 hover:bg-blue-600 text-white py-3 px-4 rounded-lg font-medium transition-all duration-300 transform hover:scale-105">
                üîµ Equipo Azul
            </button>
            <button onclick="selectTargetTeam('team2')" 
                    id="btn-target-team2" 
                    class="bg-red-500 hover:bg-red-600 text-white py-3 px-4 rounded-lg font-medium transition-all duration-300 transform hover:scale-105">
                üî¥ Equipo Rojo
            </button>
            <button onclick="selectTargetTeam('both')" 
                    id="btn-target-both" 
                    class="bg-purple-500 hover:bg-purple-600 text-white py-3 px-4 rounded-lg font-medium transition-all duration-300 transform hover:scale-105 ring-4 ring-purple-300">
                üë• Ambos Equipos
            </button>
        </div>
        <div id="target-team-info" class="mt-3 text-center text-sm text-gray-600">
            Por defecto: Pregunta para ambos equipos
        </div>
    </div>
    
    <!-- Controles de Puntuaci√≥n -->
    <div class="bg-white rounded-lg p-4 mb-6 shadow-md">
        <h2 class="text-lg font-semibold mb-3 text-gray-800">Control de Puntuaci√≥n</h2>
        <div class="grid grid-cols-2 gap-3 mb-4">
            <div class="text-center">
                <h3 class="text-sm font-medium text-gray-600 mb-2">Equipo Azul</h3>
                <div class="flex space-x-1">
                    <button onclick="updateScore('team1', 10)" 
                            class="bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded text-sm font-medium">
                        +10
                    </button>
                    <button onclick="updateScore('team1', 5)" 
                            class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded text-sm font-medium">
                        +5
                    </button>
                    <button onclick="updateScore('team1', -5)" 
                            class="bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded text-sm font-medium">
                        -5
                    </button>
                </div>
            </div>
            <div class="text-center">
                <h3 class="text-sm font-medium text-gray-600 mb-2">Equipo Rojo</h3>
                <div class="flex space-x-1">
                    <button onclick="updateScore('team2', 10)" 
                            class="bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded text-sm font-medium">
                        +10
                    </button>
                    <button onclick="updateScore('team2', 5)" 
                            class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded text-sm font-medium">
                        +5
                    </button>
                    <button onclick="updateScore('team2', -5)" 
                            class="bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded text-sm font-medium">
                        -5
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Controles del Juego -->
    <div class="bg-white rounded-lg p-4 mb-6 shadow-md">
        <h2 class="text-lg font-semibold mb-3 text-gray-800">Control del Juego</h2>
        <div class="space-y-3">
            <button onclick="showAnswer()" 
                    id="btn-show-answer"
                    class="w-full bg-yellow-500 hover:bg-yellow-600 text-white py-3 px-4 rounded-lg font-medium transition-all duration-300 transform hover:scale-105">
                Mostrar Respuesta Correcta
            </button>
            <button onclick="resetGame()" 
                    class="w-full bg-red-500 hover:bg-red-600 text-white py-3 px-4 rounded-lg font-medium transition-all duration-300 transform hover:scale-105">
                Reiniciar Juego
            </button>
        </div>
    </div>
    
    <!-- Enlaces R√°pidos -->
    <div class="bg-gray-50 rounded-lg p-4">
        <h2 class="text-lg font-semibold mb-3 text-gray-800">Pantallas del Sistema</h2>
        <div class="space-y-2">
            <a href="/tablero" target="_blank" 
               class="block w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg text-center font-medium transition-all duration-300">
                üñ•Ô∏è Tablero Principal (Solo Vista)
            </a>
            <a href="/marcador" target="_blank" 
               class="block w-full bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg text-center font-medium transition-all duration-300">
                üèÜ Marcador de Equipos
            </a>
        </div>
        <div class="mt-4">
            <h3 class="text-sm font-medium text-gray-700 mb-2">üì± Paneles de Respuestas</h3>
            <div class="grid grid-cols-2 gap-2">
                <a href="/respuestas/team1" target="_blank" 
                   class="block bg-blue-500 hover:bg-blue-600 text-white py-2 px-3 rounded-lg text-center text-sm font-medium transition-all duration-300">
                    üîµ Equipo Azul
                </a>
                <a href="/respuestas/team2" target="_blank" 
                   class="block bg-red-500 hover:bg-red-600 text-white py-2 px-3 rounded-lg text-center text-sm font-medium transition-all duration-300">
                    üî¥ Equipo Rojo
                </a>
            </div>
            <p class="text-xs text-gray-500 mt-2 text-center">
                Entrega estos enlaces a tus ayudantes para calificar
            </p>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/moderador.js"></script>
{% endblock %}